<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro | PMRQR</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Outfit', sans-serif;
        }
    </style>
</head>

<body>

    <nav class="glass">
        <div class="logo">
            <img src="assets/imagenes/logocargo.png" alt="PMRQR Logo">
        </div>
        <div class="nav-links">
            <button id="theme-toggle" class="theme-toggle" aria-label="Cambiar tema">ğŸŒ™</button>
            <a href="login.html">Iniciar SesiÃ³n</a>
        </div>
    </nav>

    <div class="container">
        <div class="auth-container glass float-anim">
            <h2 style="text-align: center; color: var(--primary-color);">Crea tu cuenta ğŸš€</h2>
            <p style="text-align: center; margin-bottom: 2rem; opacity: 0.7;">Ãšnete a la experiencia del futuro.</p>

            <div id="error-alert" class="alert alert-error hidden"></div>
            <div id="success-alert" class="alert alert-success hidden"></div>

            <form id="register-form">
                <!-- 1. RUT -->
                <div class="form-group">
                    <label>ğŸ†” RUT</label>
                    <input type="text" name="rut" placeholder="Ej: 12.345.678-K" required oninput="formatRut(this)">
                    <small style="color: var(--text-color); opacity: 0.7; font-size: 0.8rem;">Formato obligatorio (ej:
                        12.345.678-K)</small>
                </div>

                <!-- 2-5. Nombres Separados -->
                <div class="grid-2">
                    <div class="form-group">
                        <label>ğŸ“ Primer Nombre</label>
                        <input type="text" name="first_name" placeholder="Juan" required>
                    </div>
                    <div class="form-group">
                        <label>ğŸ“ Segundo Nombre</label>
                        <input type="text" name="middle_name" placeholder="AndrÃ©s">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>ğŸ“ Primer Apellido</label>
                        <input type="text" name="last_name_1" placeholder="PÃ©rez" required>
                    </div>
                    <div class="form-group">
                        <label>ğŸ“ Segundo Apellido</label>
                        <input type="text" name="last_name_2" placeholder="GonzÃ¡lez">
                    </div>
                </div>

                <!-- 6. Usuario -->
                <div class="form-group">
                    <label>ğŸ‘¤ Usuario</label>
                    <input type="text" name="username" placeholder="Elige un nombre de usuario Ãºnico" required>
                </div>

                <!-- 7. ContraseÃ±a -->
                <div class="form-group">
                    <label>ğŸ”’ ContraseÃ±a</label>
                    <input type="password" name="password" placeholder="MÃ­nimo 6 caracteres" required>
                </div>

                <!-- 8. Email -->
                <div class="form-group">
                    <label>ğŸ“§ Correo ElectrÃ³nico</label>
                    <input type="email" name="email" placeholder="ejemplo@correo.com" required>
                </div>

                <!-- 9. Telefono -->
                <div class="form-group">
                    <label>ğŸ“± TelÃ©fono de Contacto</label>
                    <input type="tel" name="phone" placeholder="+56 9 1234 5678" required>
                </div>

                <!-- 10. Calle -->
                <div class="form-group">
                    <label>ğŸ  Calle / Pasaje</label>
                    <input type="text" name="addr_street" placeholder="Ej: Av. Las Torres" required>
                </div>

                <!-- 11-12. Numero y Depto -->
                <div class="grid-2">
                    <div class="form-group">
                        <label>ğŸ”¢ NÃºmero</label>
                        <input type="text" name="addr_number" placeholder="Ej: 1234">
                    </div>
                    <div class="form-group">
                        <label>ğŸ¢ Depto / Casa</label>
                        <input type="text" name="addr_unit" placeholder="Ej: 204">
                    </div>
                </div>

                <!-- 13. Comuna -->
                <div class="form-group">
                    <label>ğŸ“ Comuna</label>
                    <input type="text" name="commune" placeholder="Ej: Santiago" required>
                </div>

                <!-- 14. TICA -->
                <div class="form-group">
                    <label>ğŸ« Estado TICA (Credencial Aeroportuaria)</label>
                    <select name="tica_status"
                        style="width: 100%; padding: 1rem; background: rgba(255, 255, 255, 0.05); border: 1px solid var(--card-border); border-radius: 8px; color: var(--text-color); font-family: inherit;">
                        <option value="no_tiene" style="background:#2d2d2d;">No tengo TICA</option>
                        <option value="vigente" style="background:#2d2d2d;">âœ… TICA Vigente</option>
                        <option value="por_vencer" style="background:#2d2d2d;">âš ï¸ TICA Por Vencer</option>
                        <option value="vencida" style="background:#2d2d2d;">âŒ TICA Vencida</option>
                    </select>
                </div>

                <button type="submit" id="submit-btn" class="btn">Registrarse âœ¨</button>
                <div id="loader" class="loader hidden"></div>
            </form>

            <p style="text-align: center; margin-top: 2rem;">
                Â¿Ya tienes cuenta? <a href="login.html" style="color: var(--secondary-color); font-weight: bold;">Inicia
                    SesiÃ³n</a>
            </p>
        </div>
    </div>

    <footer class="app-footer">
        CREADO CON <span>â¤ï¸</span> POR IAN SAAVEDRA PARA CARGOMOBILITY
    </footer>

    <!-- Scripts -->
    <script type="module" src="assets/js/client.js"></script>
    <script type="module" src="assets/js/common.js"></script>
    <script type="module" src="assets/js/auth.js?v=4"></script>
</body>

</html>